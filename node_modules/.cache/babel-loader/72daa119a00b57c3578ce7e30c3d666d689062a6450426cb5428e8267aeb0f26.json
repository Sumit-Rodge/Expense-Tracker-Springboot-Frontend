{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RunAdminCommandOperation = exports.RunCommandOperation = void 0;\nconst utils_1 = require(\"../utils\");\nconst operation_1 = require(\"./operation\");\n/** @internal */\nclass RunCommandOperation extends operation_1.AbstractOperation {\n  constructor(parent, command, options) {\n    super(options);\n    this.command = command;\n    this.options = options;\n    this.ns = parent.s.namespace.withCollection('$cmd');\n  }\n  get commandName() {\n    return 'runCommand';\n  }\n  async execute(server, session) {\n    this.server = server;\n    return server.command(this.ns, this.command, {\n      ...this.options,\n      readPreference: this.readPreference,\n      session\n    });\n  }\n}\nexports.RunCommandOperation = RunCommandOperation;\nclass RunAdminCommandOperation extends operation_1.AbstractOperation {\n  constructor(command, options) {\n    super(options);\n    this.command = command;\n    this.options = options;\n    this.ns = new utils_1.MongoDBNamespace('admin', '$cmd');\n  }\n  get commandName() {\n    return 'runCommand';\n  }\n  async execute(server, session) {\n    this.server = server;\n    return server.command(this.ns, this.command, {\n      ...this.options,\n      readPreference: this.readPreference,\n      session\n    });\n  }\n}\nexports.RunAdminCommandOperation = RunAdminCommandOperation;","map":{"version":3,"names":["utils_1","require","operation_1","RunCommandOperation","AbstractOperation","constructor","parent","command","options","ns","s","namespace","withCollection","commandName","execute","server","session","readPreference","exports","RunAdminCommandOperation","MongoDBNamespace"],"sources":["C:\\Users\\sumit\\Desktop\\Final project\\Expense-Tracker-Springboot-Frontend\\node_modules\\mongodb\\src\\operations\\run_command.ts"],"sourcesContent":["import type { BSONSerializeOptions, Document } from '../bson';\r\nimport { type Db } from '../db';\r\nimport { type TODO_NODE_3286 } from '../mongo_types';\r\nimport type { ReadPreferenceLike } from '../read_preference';\r\nimport type { Server } from '../sdam/server';\r\nimport type { ClientSession } from '../sessions';\r\nimport { MongoDBNamespace } from '../utils';\r\nimport { AbstractOperation } from './operation';\r\n\r\n/** @public */\r\nexport type RunCommandOptions = {\r\n  /** Specify ClientSession for this command */\r\n  session?: ClientSession;\r\n  /** The read preference */\r\n  readPreference?: ReadPreferenceLike;\r\n} & BSONSerializeOptions;\r\n\r\n/** @internal */\r\nexport class RunCommandOperation<T = Document> extends AbstractOperation<T> {\r\n  constructor(parent: Db, public command: Document, public override options: RunCommandOptions) {\r\n    super(options);\r\n    this.ns = parent.s.namespace.withCollection('$cmd');\r\n  }\r\n\r\n  override get commandName() {\r\n    return 'runCommand' as const;\r\n  }\r\n\r\n  override async execute(server: Server, session: ClientSession | undefined): Promise<T> {\r\n    this.server = server;\r\n    return server.command(this.ns, this.command, {\r\n      ...this.options,\r\n      readPreference: this.readPreference,\r\n      session\r\n    }) as TODO_NODE_3286;\r\n  }\r\n}\r\n\r\nexport class RunAdminCommandOperation<T = Document> extends AbstractOperation<T> {\r\n  constructor(\r\n    public command: Document,\r\n    public override options: RunCommandOptions & {\r\n      noResponse?: boolean;\r\n      bypassPinningCheck?: boolean;\r\n    }\r\n  ) {\r\n    super(options);\r\n    this.ns = new MongoDBNamespace('admin', '$cmd');\r\n  }\r\n\r\n  override get commandName() {\r\n    return 'runCommand' as const;\r\n  }\r\n\r\n  override async execute(server: Server, session: ClientSession | undefined): Promise<T> {\r\n    this.server = server;\r\n    return server.command(this.ns, this.command, {\r\n      ...this.options,\r\n      readPreference: this.readPreference,\r\n      session\r\n    }) as TODO_NODE_3286;\r\n  }\r\n}\r\n"],"mappings":";;;;;;AAMA,MAAAA,OAAA,GAAAC,OAAA;AACA,MAAAC,WAAA,GAAAD,OAAA;AAUA;AACA,MAAaE,mBAAkC,SAAQD,WAAA,CAAAE,iBAAoB;EACzEC,YAAYC,MAAU,EAASC,OAAiB,EAAkBC,OAA0B;IAC1F,KAAK,CAACA,OAAO,CAAC;IADe,KAAAD,OAAO,GAAPA,OAAO;IAA4B,KAAAC,OAAO,GAAPA,OAAO;IAEvE,IAAI,CAACC,EAAE,GAAGH,MAAM,CAACI,CAAC,CAACC,SAAS,CAACC,cAAc,CAAC,MAAM,CAAC;EACrD;EAEA,IAAaC,WAAWA,CAAA;IACtB,OAAO,YAAqB;EAC9B;EAES,MAAMC,OAAOA,CAACC,MAAc,EAAEC,OAAkC;IACvE,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,OAAOA,MAAM,CAACR,OAAO,CAAC,IAAI,CAACE,EAAE,EAAE,IAAI,CAACF,OAAO,EAAE;MAC3C,GAAG,IAAI,CAACC,OAAO;MACfS,cAAc,EAAE,IAAI,CAACA,cAAc;MACnCD;KACD,CAAmB;EACtB;;AAjBFE,OAAA,CAAAf,mBAAA,GAAAA,mBAAA;AAoBA,MAAagB,wBAAuC,SAAQjB,WAAA,CAAAE,iBAAoB;EAC9EC,YACSE,OAAiB,EACRC,OAGf;IAED,KAAK,CAACA,OAAO,CAAC;IANP,KAAAD,OAAO,GAAPA,OAAO;IACE,KAAAC,OAAO,GAAPA,OAAO;IAMvB,IAAI,CAACC,EAAE,GAAG,IAAIT,OAAA,CAAAoB,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC;EACjD;EAEA,IAAaP,WAAWA,CAAA;IACtB,OAAO,YAAqB;EAC9B;EAES,MAAMC,OAAOA,CAACC,MAAc,EAAEC,OAAkC;IACvE,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,OAAOA,MAAM,CAACR,OAAO,CAAC,IAAI,CAACE,EAAE,EAAE,IAAI,CAACF,OAAO,EAAE;MAC3C,GAAG,IAAI,CAACC,OAAO;MACfS,cAAc,EAAE,IAAI,CAACA,cAAc;MACnCD;KACD,CAAmB;EACtB;;AAvBFE,OAAA,CAAAC,wBAAA,GAAAA,wBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}